<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_152-release) on Thu Mar 08 11:53:29 EST 2018 -->
<title>DefaultDrmSession</title>
<meta name="date" content="2018-03-08">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DefaultDrmSession";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/google/android/exoplayer2/drm/DecryptionException.html" title="class in com.google.android.exoplayer2.drm"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.PostRequestHandler.html" title="class in com.google.android.exoplayer2.drm"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/google/android/exoplayer2/drm/DefaultDrmSession.html" target="_top">Frames</a></li>
<li><a href="DefaultDrmSession.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.google.android.exoplayer2.drm</div>
<h2 title="Class DefaultDrmSession" class="title">Class DefaultDrmSession&lt;T extends <a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaCrypto.html" title="interface in com.google.android.exoplayer2.drm">ExoMediaCrypto</a>&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.google.android.exoplayer2.drm.DefaultDrmSession&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html" title="interface in com.google.android.exoplayer2.drm">DrmSession</a>&lt;T&gt;</dd>
</dl>
<hr>
<br>
<pre>class <span class="typeNameLabel">DefaultDrmSession&lt;T extends <a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaCrypto.html" title="interface in com.google.android.exoplayer2.drm">ExoMediaCrypto</a>&gt;</span>
extends java.lang.Object
implements <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html" title="interface in com.google.android.exoplayer2.drm">DrmSession</a>&lt;T&gt;</pre>
<div class="block">A <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html" title="interface in com.google.android.exoplayer2.drm"><code>DrmSession</code></a> that supports playbacks using <a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaDrm.html" title="interface in com.google.android.exoplayer2.drm"><code>ExoMediaDrm</code></a>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.PostRequestHandler.html" title="class in com.google.android.exoplayer2.drm">DefaultDrmSession.PostRequestHandler</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.PostResponseHandler.html" title="class in com.google.android.exoplayer2.drm">DefaultDrmSession.PostResponseHandler</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.ProvisioningManager.html" title="interface in com.google.android.exoplayer2.drm">DefaultDrmSession.ProvisioningManager</a>&lt;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.ProvisioningManager.html" title="type parameter in DefaultDrmSession.ProvisioningManager">T</a> extends <a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaCrypto.html" title="interface in com.google.android.exoplayer2.drm">ExoMediaCrypto</a>&gt;</span></code>
<div class="block">Manages provisioning requests.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.com.google.android.exoplayer2.drm.DrmSession">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;com.google.android.exoplayer2.drm.<a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html" title="interface in com.google.android.exoplayer2.drm">DrmSession</a></h3>
<code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.DrmSessionException.html" title="class in com.google.android.exoplayer2.drm">DrmSession.DrmSessionException</a>, <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.State.html" title="annotation in com.google.android.exoplayer2.drm">DrmSession.State</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../com/google/android/exoplayer2/drm/MediaDrmCallback.html" title="interface in com.google.android.exoplayer2.drm">MediaDrmCallback</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#callback">callback</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private android.os.Handler</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#eventHandler">eventHandler</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSessionManager.EventListener.html" title="interface in com.google.android.exoplayer2.drm">DefaultDrmSessionManager.EventListener</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#eventListener">eventListener</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#initData">initData</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#initialDrmRequestRetryCount">initialDrmRequestRetryCount</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.DrmSessionException.html" title="class in com.google.android.exoplayer2.drm">DrmSession.DrmSessionException</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#lastException">lastException</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#MAX_LICENSE_DURATION_TO_RENEW">MAX_LICENSE_DURATION_TO_RENEW</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html" title="type parameter in DefaultDrmSession">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#mediaCrypto">mediaCrypto</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaDrm.html" title="interface in com.google.android.exoplayer2.drm">ExoMediaDrm</a>&lt;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html" title="type parameter in DefaultDrmSession">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#mediaDrm">mediaDrm</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#mimeType">mimeType</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#mode">mode</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#MSG_KEYS">MSG_KEYS</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#MSG_PROVISION">MSG_PROVISION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#offlineLicenseKeySetId">offlineLicenseKeySetId</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#openCount">openCount</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.HashMap&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#optionalKeyRequestParameters">optionalKeyRequestParameters</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.PostRequestHandler.html" title="class in com.google.android.exoplayer2.drm">DefaultDrmSession.PostRequestHandler</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#postRequestHandler">postRequestHandler</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.PostResponseHandler.html" title="class in com.google.android.exoplayer2.drm">DefaultDrmSession.PostResponseHandler</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#postResponseHandler">postResponseHandler</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.ProvisioningManager.html" title="interface in com.google.android.exoplayer2.drm">DefaultDrmSession.ProvisioningManager</a>&lt;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html" title="type parameter in DefaultDrmSession">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#provisioningManager">provisioningManager</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private android.os.HandlerThread</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#requestHandlerThread">requestHandlerThread</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#sessionId">sessionId</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#state">state</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#TAG">TAG</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.util.UUID</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#uuid">uuid</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.com.google.android.exoplayer2.drm.DrmSession">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;com.google.android.exoplayer2.drm.<a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html" title="interface in com.google.android.exoplayer2.drm">DrmSession</a></h3>
<code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#STATE_ERROR">STATE_ERROR</a>, <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#STATE_OPENED">STATE_OPENED</a>, <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#STATE_OPENED_WITH_KEYS">STATE_OPENED_WITH_KEYS</a>, <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#STATE_OPENING">STATE_OPENING</a>, <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#STATE_RELEASED">STATE_RELEASED</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#DefaultDrmSession-java.util.UUID-com.google.android.exoplayer2.drm.ExoMediaDrm-com.google.android.exoplayer2.drm.DefaultDrmSession.ProvisioningManager-byte:A-java.lang.String-int-byte:A-java.util.HashMap-com.google.android.exoplayer2.drm.MediaDrmCallback-android.os.Looper-android.os.Handler-com.google.android.exoplayer2.drm.DefaultDrmSessionManager.EventListener-int-">DefaultDrmSession</a></span>(java.util.UUID&nbsp;uuid,
                 <a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaDrm.html" title="interface in com.google.android.exoplayer2.drm">ExoMediaDrm</a>&lt;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html" title="type parameter in DefaultDrmSession">T</a>&gt;&nbsp;mediaDrm,
                 <a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.ProvisioningManager.html" title="interface in com.google.android.exoplayer2.drm">DefaultDrmSession.ProvisioningManager</a>&lt;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html" title="type parameter in DefaultDrmSession">T</a>&gt;&nbsp;provisioningManager,
                 byte[]&nbsp;initData,
                 java.lang.String&nbsp;mimeType,
                 int&nbsp;mode,
                 byte[]&nbsp;offlineLicenseKeySetId,
                 java.util.HashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;optionalKeyRequestParameters,
                 <a href="../../../../../com/google/android/exoplayer2/drm/MediaDrmCallback.html" title="interface in com.google.android.exoplayer2.drm">MediaDrmCallback</a>&nbsp;callback,
                 android.os.Looper&nbsp;playbackLooper,
                 android.os.Handler&nbsp;eventHandler,
                 <a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSessionManager.EventListener.html" title="interface in com.google.android.exoplayer2.drm">DefaultDrmSessionManager.EventListener</a>&nbsp;eventListener,
                 int&nbsp;initialDrmRequestRetryCount)</code>
<div class="block">Instantiates a new DRM session.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#acquire--">acquire</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#doLicense-boolean-">doLicense</a></span>(boolean&nbsp;allowRetry)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.DrmSessionException.html" title="class in com.google.android.exoplayer2.drm">DrmSession.DrmSessionException</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#getError--">getError</a></span>()</code>
<div class="block">Returns the cause of the error state.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#getLicenseDurationRemainingSec--">getLicenseDurationRemainingSec</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html" title="type parameter in DefaultDrmSession">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#getMediaCrypto--">getMediaCrypto</a></span>()</code>
<div class="block">Returns a <a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaCrypto.html" title="interface in com.google.android.exoplayer2.drm"><code>ExoMediaCrypto</code></a> for the open session, or null if called before the session has
 been opened or after it's been released.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#getOfflineLicenseKeySetId--">getOfflineLicenseKeySetId</a></span>()</code>
<div class="block">Returns the key set id of the offline license loaded into this session, or null if there isn't
 one.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#getState--">getState</a></span>()</code>
<div class="block">Returns the current state of the session, which is one of <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#STATE_ERROR"><code>DrmSession.STATE_ERROR</code></a>,
 <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#STATE_RELEASED"><code>DrmSession.STATE_RELEASED</code></a>, <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#STATE_OPENING"><code>DrmSession.STATE_OPENING</code></a>, <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#STATE_OPENED"><code>DrmSession.STATE_OPENED</code></a> and
 <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#STATE_OPENED_WITH_KEYS"><code>DrmSession.STATE_OPENED_WITH_KEYS</code></a>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#hasInitData-byte:A-">hasInitData</a></span>(byte[]&nbsp;initData)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#hasSessionId-byte:A-">hasSessionId</a></span>(byte[]&nbsp;sessionId)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#isOpen--">isOpen</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#onError-java.lang.Exception-">onError</a></span>(java.lang.Exception&nbsp;e)</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#onKeyResponse-java.lang.Object-">onKeyResponse</a></span>(java.lang.Object&nbsp;response)</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#onKeysError-java.lang.Exception-">onKeysError</a></span>(java.lang.Exception&nbsp;e)</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#onKeysExpired--">onKeysExpired</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#onMediaDrmEvent-int-">onMediaDrmEvent</a></span>(int&nbsp;what)</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#onProvisionCompleted--">onProvisionCompleted</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#onProvisionError-java.lang.Exception-">onProvisionError</a></span>(java.lang.Exception&nbsp;error)</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#onProvisionResponse-java.lang.Object-">onProvisionResponse</a></span>(java.lang.Object&nbsp;response)</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#openInternal-boolean-">openInternal</a></span>(boolean&nbsp;allowProvisioning)</code>
<div class="block">Try to open a session, do provisioning if necessary.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#postKeyRequest-int-boolean-">postKeyRequest</a></span>(int&nbsp;type,
              boolean&nbsp;allowRetry)</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#provision--">provision</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#queryKeyStatus--">queryKeyStatus</a></span>()</code>
<div class="block">Returns a map describing the key status for the session, or null if called before the session
 has been opened or after it's been released.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#release--">release</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html#restoreKeys--">restoreKeys</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="TAG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TAG</h4>
<pre>private static final&nbsp;java.lang.String TAG</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.google.android.exoplayer2.drm.DefaultDrmSession.TAG">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MSG_PROVISION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MSG_PROVISION</h4>
<pre>private static final&nbsp;int MSG_PROVISION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.google.android.exoplayer2.drm.DefaultDrmSession.MSG_PROVISION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MSG_KEYS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MSG_KEYS</h4>
<pre>private static final&nbsp;int MSG_KEYS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.google.android.exoplayer2.drm.DefaultDrmSession.MSG_KEYS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MAX_LICENSE_DURATION_TO_RENEW">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_LICENSE_DURATION_TO_RENEW</h4>
<pre>private static final&nbsp;int MAX_LICENSE_DURATION_TO_RENEW</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.google.android.exoplayer2.drm.DefaultDrmSession.MAX_LICENSE_DURATION_TO_RENEW">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="mediaDrm">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mediaDrm</h4>
<pre>private final&nbsp;<a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaDrm.html" title="interface in com.google.android.exoplayer2.drm">ExoMediaDrm</a>&lt;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html" title="type parameter in DefaultDrmSession">T</a> extends <a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaCrypto.html" title="interface in com.google.android.exoplayer2.drm">ExoMediaCrypto</a>&gt; mediaDrm</pre>
</li>
</ul>
<a name="provisioningManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>provisioningManager</h4>
<pre>private final&nbsp;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.ProvisioningManager.html" title="interface in com.google.android.exoplayer2.drm">DefaultDrmSession.ProvisioningManager</a>&lt;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html" title="type parameter in DefaultDrmSession">T</a> extends <a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaCrypto.html" title="interface in com.google.android.exoplayer2.drm">ExoMediaCrypto</a>&gt; provisioningManager</pre>
</li>
</ul>
<a name="initData">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initData</h4>
<pre>private final&nbsp;byte[] initData</pre>
</li>
</ul>
<a name="mimeType">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mimeType</h4>
<pre>private final&nbsp;java.lang.String mimeType</pre>
</li>
</ul>
<a name="mode">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mode</h4>
<pre>private final&nbsp;int mode</pre>
</li>
</ul>
<a name="optionalKeyRequestParameters">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>optionalKeyRequestParameters</h4>
<pre>private final&nbsp;java.util.HashMap&lt;java.lang.String,java.lang.String&gt; optionalKeyRequestParameters</pre>
</li>
</ul>
<a name="eventHandler">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eventHandler</h4>
<pre>private final&nbsp;android.os.Handler eventHandler</pre>
</li>
</ul>
<a name="eventListener">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eventListener</h4>
<pre>private final&nbsp;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSessionManager.EventListener.html" title="interface in com.google.android.exoplayer2.drm">DefaultDrmSessionManager.EventListener</a> eventListener</pre>
</li>
</ul>
<a name="initialDrmRequestRetryCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialDrmRequestRetryCount</h4>
<pre>private final&nbsp;int initialDrmRequestRetryCount</pre>
</li>
</ul>
<a name="callback">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>callback</h4>
<pre>final&nbsp;<a href="../../../../../com/google/android/exoplayer2/drm/MediaDrmCallback.html" title="interface in com.google.android.exoplayer2.drm">MediaDrmCallback</a> callback</pre>
</li>
</ul>
<a name="uuid">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>uuid</h4>
<pre>final&nbsp;java.util.UUID uuid</pre>
</li>
</ul>
<a name="postResponseHandler">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postResponseHandler</h4>
<pre>final&nbsp;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.PostResponseHandler.html" title="class in com.google.android.exoplayer2.drm">DefaultDrmSession.PostResponseHandler</a> postResponseHandler</pre>
</li>
</ul>
<a name="state">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>state</h4>
<pre>private&nbsp;int state</pre>
</li>
</ul>
<a name="openCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openCount</h4>
<pre>private&nbsp;int openCount</pre>
</li>
</ul>
<a name="requestHandlerThread">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestHandlerThread</h4>
<pre>private&nbsp;android.os.HandlerThread requestHandlerThread</pre>
</li>
</ul>
<a name="postRequestHandler">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postRequestHandler</h4>
<pre>private&nbsp;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.PostRequestHandler.html" title="class in com.google.android.exoplayer2.drm">DefaultDrmSession.PostRequestHandler</a> postRequestHandler</pre>
</li>
</ul>
<a name="mediaCrypto">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mediaCrypto</h4>
<pre>private&nbsp;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html" title="type parameter in DefaultDrmSession">T</a> extends <a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaCrypto.html" title="interface in com.google.android.exoplayer2.drm">ExoMediaCrypto</a> mediaCrypto</pre>
</li>
</ul>
<a name="lastException">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastException</h4>
<pre>private&nbsp;<a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.DrmSessionException.html" title="class in com.google.android.exoplayer2.drm">DrmSession.DrmSessionException</a> lastException</pre>
</li>
</ul>
<a name="sessionId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sessionId</h4>
<pre>private&nbsp;byte[] sessionId</pre>
</li>
</ul>
<a name="offlineLicenseKeySetId">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>offlineLicenseKeySetId</h4>
<pre>private&nbsp;byte[] offlineLicenseKeySetId</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DefaultDrmSession-java.util.UUID-com.google.android.exoplayer2.drm.ExoMediaDrm-com.google.android.exoplayer2.drm.DefaultDrmSession.ProvisioningManager-byte:A-java.lang.String-int-byte:A-java.util.HashMap-com.google.android.exoplayer2.drm.MediaDrmCallback-android.os.Looper-android.os.Handler-com.google.android.exoplayer2.drm.DefaultDrmSessionManager.EventListener-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DefaultDrmSession</h4>
<pre>public&nbsp;DefaultDrmSession(java.util.UUID&nbsp;uuid,
                         <a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaDrm.html" title="interface in com.google.android.exoplayer2.drm">ExoMediaDrm</a>&lt;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html" title="type parameter in DefaultDrmSession">T</a>&gt;&nbsp;mediaDrm,
                         <a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.ProvisioningManager.html" title="interface in com.google.android.exoplayer2.drm">DefaultDrmSession.ProvisioningManager</a>&lt;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html" title="type parameter in DefaultDrmSession">T</a>&gt;&nbsp;provisioningManager,
                         byte[]&nbsp;initData,
                         java.lang.String&nbsp;mimeType,
                         int&nbsp;mode,
                         byte[]&nbsp;offlineLicenseKeySetId,
                         java.util.HashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;optionalKeyRequestParameters,
                         <a href="../../../../../com/google/android/exoplayer2/drm/MediaDrmCallback.html" title="interface in com.google.android.exoplayer2.drm">MediaDrmCallback</a>&nbsp;callback,
                         android.os.Looper&nbsp;playbackLooper,
                         android.os.Handler&nbsp;eventHandler,
                         <a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSessionManager.EventListener.html" title="interface in com.google.android.exoplayer2.drm">DefaultDrmSessionManager.EventListener</a>&nbsp;eventListener,
                         int&nbsp;initialDrmRequestRetryCount)</pre>
<div class="block">Instantiates a new DRM session.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>uuid</code> - The UUID of the drm scheme.</dd>
<dd><code>mediaDrm</code> - The media DRM.</dd>
<dd><code>provisioningManager</code> - The manager for provisioning.</dd>
<dd><code>initData</code> - The DRM init data.</dd>
<dd><code>mode</code> - The DRM mode.</dd>
<dd><code>offlineLicenseKeySetId</code> - The offlineLicense KeySetId.</dd>
<dd><code>optionalKeyRequestParameters</code> - The optional key request parameters.</dd>
<dd><code>callback</code> - The media DRM callback.</dd>
<dd><code>playbackLooper</code> - The playback looper.</dd>
<dd><code>eventHandler</code> - The handler to post listener events.</dd>
<dd><code>eventListener</code> - The DRM session manager event listener.</dd>
<dd><code>initialDrmRequestRetryCount</code> - The number of times to retry for initial provisioning and
     key request before reporting error.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="acquire--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquire</h4>
<pre>public&nbsp;void&nbsp;acquire()</pre>
</li>
</ul>
<a name="release--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>public&nbsp;boolean&nbsp;release()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if the session is closed and cleaned up, false otherwise.</dd>
</dl>
</li>
</ul>
<a name="hasInitData-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasInitData</h4>
<pre>public&nbsp;boolean&nbsp;hasInitData(byte[]&nbsp;initData)</pre>
</li>
</ul>
<a name="hasSessionId-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasSessionId</h4>
<pre>public&nbsp;boolean&nbsp;hasSessionId(byte[]&nbsp;sessionId)</pre>
</li>
</ul>
<a name="provision--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>provision</h4>
<pre>public&nbsp;void&nbsp;provision()</pre>
</li>
</ul>
<a name="onProvisionCompleted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onProvisionCompleted</h4>
<pre>public&nbsp;void&nbsp;onProvisionCompleted()</pre>
</li>
</ul>
<a name="onProvisionError-java.lang.Exception-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onProvisionError</h4>
<pre>public&nbsp;void&nbsp;onProvisionError(java.lang.Exception&nbsp;error)</pre>
</li>
</ul>
<a name="getState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getState</h4>
<pre>public final&nbsp;int&nbsp;getState()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#getState--">DrmSession</a></code></span></div>
<div class="block">Returns the current state of the session, which is one of <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#STATE_ERROR"><code>DrmSession.STATE_ERROR</code></a>,
 <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#STATE_RELEASED"><code>DrmSession.STATE_RELEASED</code></a>, <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#STATE_OPENING"><code>DrmSession.STATE_OPENING</code></a>, <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#STATE_OPENED"><code>DrmSession.STATE_OPENED</code></a> and
 <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#STATE_OPENED_WITH_KEYS"><code>DrmSession.STATE_OPENED_WITH_KEYS</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#getState--">getState</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html" title="interface in com.google.android.exoplayer2.drm">DrmSession</a>&lt;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html" title="type parameter in DefaultDrmSession">T</a> extends <a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaCrypto.html" title="interface in com.google.android.exoplayer2.drm">ExoMediaCrypto</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="getError--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getError</h4>
<pre>public final&nbsp;<a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.DrmSessionException.html" title="class in com.google.android.exoplayer2.drm">DrmSession.DrmSessionException</a>&nbsp;getError()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#getError--">DrmSession</a></code></span></div>
<div class="block">Returns the cause of the error state.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#getError--">getError</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html" title="interface in com.google.android.exoplayer2.drm">DrmSession</a>&lt;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html" title="type parameter in DefaultDrmSession">T</a> extends <a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaCrypto.html" title="interface in com.google.android.exoplayer2.drm">ExoMediaCrypto</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="getMediaCrypto--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMediaCrypto</h4>
<pre>public final&nbsp;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html" title="type parameter in DefaultDrmSession">T</a>&nbsp;getMediaCrypto()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#getMediaCrypto--">DrmSession</a></code></span></div>
<div class="block">Returns a <a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaCrypto.html" title="interface in com.google.android.exoplayer2.drm"><code>ExoMediaCrypto</code></a> for the open session, or null if called before the session has
 been opened or after it's been released.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#getMediaCrypto--">getMediaCrypto</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html" title="interface in com.google.android.exoplayer2.drm">DrmSession</a>&lt;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html" title="type parameter in DefaultDrmSession">T</a> extends <a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaCrypto.html" title="interface in com.google.android.exoplayer2.drm">ExoMediaCrypto</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="queryKeyStatus--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryKeyStatus</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;queryKeyStatus()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#queryKeyStatus--">DrmSession</a></code></span></div>
<div class="block">Returns a map describing the key status for the session, or null if called before the session
 has been opened or after it's been released.
 <p>
 Since DRM license policies vary by vendor, the specific status field names are determined by
 each DRM vendor. Refer to your DRM provider documentation for definitions of the field names
 for a particular DRM engine plugin.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#queryKeyStatus--">queryKeyStatus</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html" title="interface in com.google.android.exoplayer2.drm">DrmSession</a>&lt;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html" title="type parameter in DefaultDrmSession">T</a> extends <a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaCrypto.html" title="interface in com.google.android.exoplayer2.drm">ExoMediaCrypto</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A map describing the key status for the session, or null if called before the session
     has been opened or after it's been released.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>MediaDrm.queryKeyStatus(byte[])</code></dd>
</dl>
</li>
</ul>
<a name="getOfflineLicenseKeySetId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOfflineLicenseKeySetId</h4>
<pre>public&nbsp;byte[]&nbsp;getOfflineLicenseKeySetId()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#getOfflineLicenseKeySetId--">DrmSession</a></code></span></div>
<div class="block">Returns the key set id of the offline license loaded into this session, or null if there isn't
 one.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html#getOfflineLicenseKeySetId--">getOfflineLicenseKeySetId</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html" title="interface in com.google.android.exoplayer2.drm">DrmSession</a>&lt;<a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.html" title="type parameter in DefaultDrmSession">T</a> extends <a href="../../../../../com/google/android/exoplayer2/drm/ExoMediaCrypto.html" title="interface in com.google.android.exoplayer2.drm">ExoMediaCrypto</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="openInternal-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openInternal</h4>
<pre>private&nbsp;boolean&nbsp;openInternal(boolean&nbsp;allowProvisioning)</pre>
<div class="block">Try to open a session, do provisioning if necessary.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allowProvisioning</code> - if provisioning is allowed, set this to false when calling from
      processing provision response.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true on success, false otherwise.</dd>
</dl>
</li>
</ul>
<a name="onProvisionResponse-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onProvisionResponse</h4>
<pre>private&nbsp;void&nbsp;onProvisionResponse(java.lang.Object&nbsp;response)</pre>
</li>
</ul>
<a name="doLicense-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doLicense</h4>
<pre>private&nbsp;void&nbsp;doLicense(boolean&nbsp;allowRetry)</pre>
</li>
</ul>
<a name="restoreKeys--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restoreKeys</h4>
<pre>private&nbsp;boolean&nbsp;restoreKeys()</pre>
</li>
</ul>
<a name="getLicenseDurationRemainingSec--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLicenseDurationRemainingSec</h4>
<pre>private&nbsp;long&nbsp;getLicenseDurationRemainingSec()</pre>
</li>
</ul>
<a name="postKeyRequest-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postKeyRequest</h4>
<pre>private&nbsp;void&nbsp;postKeyRequest(int&nbsp;type,
                            boolean&nbsp;allowRetry)</pre>
</li>
</ul>
<a name="onKeyResponse-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onKeyResponse</h4>
<pre>private&nbsp;void&nbsp;onKeyResponse(java.lang.Object&nbsp;response)</pre>
</li>
</ul>
<a name="onKeysExpired--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onKeysExpired</h4>
<pre>private&nbsp;void&nbsp;onKeysExpired()</pre>
</li>
</ul>
<a name="onKeysError-java.lang.Exception-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onKeysError</h4>
<pre>private&nbsp;void&nbsp;onKeysError(java.lang.Exception&nbsp;e)</pre>
</li>
</ul>
<a name="onError-java.lang.Exception-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onError</h4>
<pre>private&nbsp;void&nbsp;onError(java.lang.Exception&nbsp;e)</pre>
</li>
</ul>
<a name="isOpen--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpen</h4>
<pre>private&nbsp;boolean&nbsp;isOpen()</pre>
</li>
</ul>
<a name="onMediaDrmEvent-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onMediaDrmEvent</h4>
<pre>public&nbsp;void&nbsp;onMediaDrmEvent(int&nbsp;what)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/google/android/exoplayer2/drm/DecryptionException.html" title="class in com.google.android.exoplayer2.drm"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/google/android/exoplayer2/drm/DefaultDrmSession.PostRequestHandler.html" title="class in com.google.android.exoplayer2.drm"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/google/android/exoplayer2/drm/DefaultDrmSession.html" target="_top">Frames</a></li>
<li><a href="DefaultDrmSession.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
